ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ í•˜ë‚˜ì˜ íŒ¨í„´ìœ¼ë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

- ì½œë°± íŒ¨í„´ì€ ì½œë°± í—¬ë¡œ ì¸í•´ ê°€ë…ì„±ì´ ë‚˜ì˜ë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬ ì¤‘ ë°œìƒí•œ ì—ëŸ¬ì˜ ì²˜ë¦¬ê°€ ê³¤ë€í•˜ë‹¤.
- ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ëŠ”ë° í•œê³„ê°€ ìˆë‹¤.

### âœï¸Â ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì 

1. **ì½œë°± í—¬: callback hell**

: ì½œë°± í•¨ìˆ˜ í˜¸ì¶œì´ ì¤‘ì²©ë˜ì–´ ë³µì¡ë„ê°€ ë†’ì•„ì§€ëŠ” í˜„ìƒ

ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì™¸ë¶€ì— ë°˜í™˜í•˜ê±°ë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•˜ê³  ì´ í›„ì† ì²˜ë¦¬ë¥¼ ìœ„í•´ ì£¼ë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

```jsx
// ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°[get: ë¹„ë™ê¸°]
const get = (url, callback) => {
  const xhr = new XMLHttpRequest();
  xhr.open('GET', url);
  xhr.send();

  xhr.onload = () => {
    // [ì‘ë‹µì— ëŒ€í•œ í›„ì† ì²˜ë¦¬] ì„œë²„ì˜ ì‘ë‹µì„ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œ
    if (xhr.status === 200) {
      callback(JSON.parse(xhr.response));
    } else {
      console.error(`${xhr.status} ${xhr.statusText}`);
    }
  };
};

const url = 'https://jsonplaceholder.typicode.com';

// idê°€ 1ì¸ postì˜ userIdë¥¼ ì·¨ë“
get(`${url}/posts/1`, ({ userId }) => {
  console.log(userId); // 1
  get(`${url}/users/${userId}`, (userInfo) => {
    console.log(userInfo);
    // {id: 1, name: "Leanne Graham", username: "Bret",...}
  });
});
```

```jsx
// callback hell
get('/step1', (a) => {
  get(`/step2/${a}`, (b) => {
    get(`/step3/${b}`, (c) => {
      get(`/step4/${c}`, (d) => {
        console.log(d);
      });
    });
  });
});
```

2. **ì—ëŸ¬ ì²˜ë¦¬ì˜ í•œê³„**

   ì½œë°± íŒ¨í„´ì˜ ê°€ì¥ í° ë¬¸ì œì ì€ ì—ëŸ¬ ì²˜ë¦¬ê°€ ê³¤ë€í•˜ë‹¤. `setTimeout`ì€ ë¹„ë™ê¸° í•¨ìˆ˜ì´ê¸°ì— ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•ŒëŠ” ì´ë¯¸ `try~catch`ì—ì„œ ë¹ ì ¸ë‚˜ì™€ ì¢…ë£Œëœ ìƒíƒœì´ë‹¤.

   ```jsx
   try {
     setTimeout(() => {
       throw new Error('Error!');
     }, 1000);
   } catch (e) {
     // ì—ëŸ¬ ìºì¹˜ X
     console.error('ìºì¹˜í•œ ì—ëŸ¬', e);
   }
   ```

### âœï¸Â í”„ë¡œë¯¸ìŠ¤ì˜ ìƒì„±

ES6ì—ì„œ ë„ì…ëœ PromiseëŠ” ECMAScript ì‚¬ì–‘ì— ì •ì˜ëœ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ì´ë©° Promise ìƒì„±ì í•¨ìˆ˜ë¥¼ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ë©´ í”„ë¡œë¯¸ìŠ¤(Promise ê°ì²´)ë¥¼ ìƒì„±í•œë‹¤. í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœì™€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë‹¤.

```jsx
// resolve, rejectëŠ” ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰
const promise = new Promise((resolve, reject) => {
  if (/* ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ */) {
    resolve('result');
  } else { // ë¹„ë™ê¸° ì²˜ë¦¬ ì‹¤íŒ¨
    reject('failure reason');
  }
});
```

```jsx
// ë¹„ë™ê¸° í•¨ìˆ˜(GET): í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ë°˜í™˜
const promiseGet = (url) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', url);
    xhr.send();

    xhr.onload = () => {
      // ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ ì‹œ resolve, ì‹¤íŒ¨ ì‹œ reject
      if (xhr.status === 200) {
        resolve(JSON.parse(xhr.response));
      } else {
        reject(new Error(xhr.status));
      }
    };
  });
};

// promiseGet í•¨ìˆ˜: í”„ë¡œë¯¸ìŠ¤ ë°˜í™˜
promiseGet('https://jsonplaceholder.typicode.com/posts/1');
```

| í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ ì •ë³´ | ì˜ë¯¸                    | ìƒíƒœ ë³€ê²½ ì¡°ê±´                   |
| -------------------- | ----------------------- | -------------------------------- |
| pending              | ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•Šì€ ìƒíƒœ | í”„ë¡œë¯¸ìŠ¤ê°€ ìƒì„±ëœ ì§í›„ ê¸°ë³¸ ìƒíƒœ |
| fulfilled            | ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ        | resolve() í˜¸ì¶œ                   |
| rejected             | ë¹„ë™ê¸° ì²˜ë¦¬ ì‹¤íŒ¨        | reject() í˜¸ì¶œ                    |

ğŸª`**settled` ìƒíƒœ\*\*

`fulfilled` ë˜ëŠ” `rejected` ìƒíƒœì™€ ìƒê´€ì—†ì´ `pending`ì´ ì•„ë‹Œ ìƒíƒœë¡œ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœë¥¼ ë§í•˜ë©° `settled` ìƒíƒœê°€ ë˜ë©´ ë”ì´ìƒ ë‹¤ë¥¸ ìƒíƒœë¡œ ë³€í™”í•  ìˆ˜ ì—†ë‹¤.

| Promise | default   | resolve(value) | reject(error) |
| ------- | --------- | -------------- | ------------- |
| status  | pending   | â€œfulfilledâ€    | â€œrejectedâ€    |
| result  | undefined | value          | error         |

### âœï¸Â í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ

í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœê°€ ë³€í™”í•˜ë©´ ì´ì— ë”°ë¥¸ í›„ì† ì²˜ë¦¬ë¥¼ í•´ì•¼í•˜ëŠ”ë° ì´ë¥¼ ìœ„í•´ í”„ë¡œë¯¸ìŠ¤ëŠ” í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ `then`, `catch`, `finally`ë¥¼ ì œê³µí•œë‹¤.

í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœê°€ ë³€í™”í•˜ë©´ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ì½œë°± í•¨ìˆ˜ê°€ ì„ íƒì ìœ¼ë¡œ í˜¸ì¶œë˜ë©° ëª¨ë“  í›„ì† ì²˜ë¦¬ ë©”ì„œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë©° ë¹„ë™ê¸°ë¡œ ë™ì‘í•œë‹¤.

1. **`Promise.prototype.then(**onFulfilled, onRejected)`

   2ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë° ì²« ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì„±ê³µ ì²˜ë¦¬ ì½œë°± í•¨ìˆ˜ì´ë©°, ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì‹¤íŒ¨ ì²˜ë¦¬ ì½œë°± í•¨ìˆ˜ë‹¤.

   ```jsx
   // fulfilled
   new Promise((resolve) => resolve('fulfilled')).then(
     (v) => console.log(v),
     (e) => console.error(e)
   );

   // rejected
   new Promise((_, reject) => reject(new Error('rejected'))).then(
     (v) => console.log(v),
     (e) => console.error(e)
   );
   ```

2. **`Promise.prototype.catch`**

   1ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë° í”„ë¡œë¯¸ìŠ¤ê°€ rejected ìƒíƒœì¸ ê²½ìš°ë§Œ í˜¸ì¶œëœë‹¤. `catch` ë©”ì„œë“œëŠ” `then(undefined, onRejected)`ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.

   ```jsx
   // rejected
   new Promise((_, reject) => reject(new Error('rejected'))).catch((e) =>
     console.log(e)
   );
   new Promise((_, reject) => reject(new Error('rejected'))).then(
     undefined,
     (e) => console.log(e)
   );
   ```

3. **`Promise.prototype.finally`**

   1ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë° í”„ë¡œë¯¸ìŠ¤ì˜ ì„±ê³µ, ì‹¤íŒ¨ì™€ ìƒê´€ì—†ì´ ë¬´ì¡°ê±´ 1ë²ˆ í˜¸ì¶œë˜ë©° í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤. `finally` ë©”ì„œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœì™€ ìƒê´€ì—†ì´ ê³µí†µì ìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼ í•  ì²˜ë¦¬ ë‚´ìš©ì´ ìˆì„ ë•Œ ìœ ìš©í•˜ë‹¤.

   ```jsx
   // finally
   new Promise(() => {}).finally(() => console.log('finally'));
   ```

### âœï¸Â í”„ë¡œë¯¸ìŠ¤ì˜ ì—ëŸ¬ ì²˜ë¦¬

ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” `then` ë©”ì„œë“œì˜ ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ë‚˜ `catch` ë©”ì„œë“œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

```jsx
const wrongUrl = '';

// then: err
promiseGet(wrongUrl).then(
  (res) => console.log(res),
  (err) => console.error(err)
);

// [ê¶Œì¥] catch
promiseGet(wrongUrl)
  .then((res) => console.log(res))
  .catch((err) => console.error(err)); // Error: 404

// catch ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ then(undefined, onRejected)ë¥¼ í˜¸ì¶œ
promiseGet(wrongUrl)
  .then((res) => console.log(res))
  .then(undefined, (err) => console.error(err));
```

### âœï¸Â í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹: promise chaining

í›„ì† ì²˜ë¦¬ ë©”ì„œë“œëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ **í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹**ì´ë¼ í•œë‹¤.

```jsx
const url = 'https://jsonplaceholder.typicode.com';

// idê°€ 1ì¸ postì˜ userIdë¥¼ ì·¨ë“
promiseGet(`${url}/posts/1`)
  // ì·¨ë“í•œ postì˜ userIdë¡œ user ì •ë³´ë¥¼ ì·¨ë“
  .then(({ userId }) => promiseGet(`${url}/users/${userId}`))
  .then((userInfo) => console.log(userInfo))
  .catch((err) => console.error(err));
```

### âœï¸Â í”„ë¡œë¯¸ìŠ¤ì˜ ì •ì  ë©”ì„œë“œ

PromiseëŠ” 5ê°€ì§€ ì •ì  ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

1. **`Promise.resolve / Promise.reject`**

   â†’ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ê°’ì„ `resolve/reject`í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

   ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê°’ì„ ë˜í•‘í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

   ```jsx
   // resolve [1, 2, 3]
   const resolvedPromise1 = Promise.resolve([1, 2, 3]);
   resolvedPromise1.then(console.log);

   const resolvedPromise2 = new Promise((resolve) => resolve([1, 2, 3]));
   resolvedPromise2.then(console.log);

   // reject [Error: Error!]
   const rejectedPromise1 = Promise.reject(new Error('Error!'));
   rejectedPromise1.catch(console.log);

   const rejectedPromise2 = new Promise((_, reject) =>
     reject(new Error('Error!'))
   );
   rejectedPromise2.catch(console.log);
   ```

2. **Promise.all**

   ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ëª¨ë‘ ë³‘ë ¬ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.

   ì¸ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ë°°ì—´ì˜ ëª¨ë“  í”„ë¡œí¼í‹°ê°€ ëª¨ë‘ `fulfilled` ìƒíƒœê°€ ë˜ë©´ ì¢…ë£Œí•˜ê¸° ë•Œë¬¸ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ê°€ì¥ ëŠ¦ê²Œ `fulfilled` ìƒíƒœê°€ ë˜ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ì‹œê°„ë³´ë‹¤ ì¡°ê¸ˆ ë” ê¸¸ë‹¤.

   ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ê°€ `fulfilled` ìƒíƒœê°€ ë˜ë©´ `resolve`ëœ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ëª¨ë‘ ë°°ì—´ì— ì €ì¥í•´ ìƒˆë¡œìš´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ì´ë•Œ ì²˜ë¦¬ ìˆœì„œì™€ ìƒê´€ì—†ì´ ë°°ì—´ì˜ ìˆœì„œì— ë§ê²Œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.(â†’ ì²˜ë¦¬ ìˆœì„œ ë³´ì¥)

   ë°°ì—´ì˜ í”„ë¡œë¯¸ìŠ¤ê°€ í•˜ë‚˜ë¼ë„ `rejected` ìƒíƒœê°€ ë˜ë©´ ë‚˜ë¨¸ì§€ í”„ë¡œë¯¸ìŠ¤ ìƒê´€ì—†ì´ ì¦‰ì‹œ ì¢…ë£Œí•œë‹¤.

   ```jsx
   const requestData1 = () =>
     new Promise((resolve) => setTimeout(() => resolve(1), 3000));
   const requestData2 = () =>
     new Promise((resolve) => setTimeout(() => resolve(2), 2000));
   const requestData3 = () =>
     new Promise((resolve) => setTimeout(() => resolve(3), 1000));

   // [1] 3ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ -> ë¹„ë™ê¸°1 3s, ë¹„ë™ê¸°2 2s, ë¹„ë™ê¸°3 1s (6s)
   const res = [];
   requestData1()
     .then((data) => {
       res.push(data);
       return requestData2();
     })
     .then((data) => {
       res.push(data);
       return requestData3();
     })
     .then((data) => {
       res.push(data);
       console.log(res);
     })
     .catch(console.error);

   // [2] 3ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬ => 3s
   Promise.all([requestData1(), requestData2(), requestData3()])
     .then(console.log)
     .catch(console.error);
   ```

3. **Promise.race**

   all ë©”ì†Œë“œ ì²˜ëŸ¼ ëª¨ë“  í”„ë¡œí¼í‹°ê°€ `fulfilled` ìƒíƒœê°€ ë˜ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°€ì¥ ë¨¼ì € `fulfilled` ìƒíƒœê°€ ëœ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ `resolve` í•˜ëŠ” ìƒˆë¡œìš´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

   `rejected` ìƒíƒœê°€ ë˜ë©´ `Promise.all`ê³¼ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•œë‹¤.

   ```jsx
   Promise.race([
     new Promise((resolve) => setTimeout(() => resolve(1), 3000)), // 1
     new Promise((resolve) => setTimeout(() => resolve(2), 2000)), // 2
     new Promise((resolve) => setTimeout(() => resolve(3), 1000)), // 3
   ])
     .then(console.log) // 3
     .catch(console.log);
   ```

4. **Promise.allSettled**

   ì „ë‹¬ ë°›ì€ í”„ë¡œë¯¸ìŠ¤ê°€ ëª¨ë‘ `settled` ìƒíƒœê°€ ë˜ë©´ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.

   ```jsx
   Promise.allSettled([
     new Promise((resolve) => setTimeout(() => resolve(1), 2000)),
     new Promise((_, reject) =>
       setTimeout(() => reject(new Error('Error!')), 1000)
     ),
   ]).then(console.log);
   /*
   [
     {status: "fulfilled", value: 1},
     {status: "rejected", reason: Error: Error! at <anonymous>:3:54}
   ]
   */
   ```

### âœï¸Â ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í: microtask queue/job queue

ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì—ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ê°€ ì¼ì‹œ ì €ì¥ë˜ê³  íƒœìŠ¤í¬ íì—ëŠ” ê·¸ ì™¸ì˜ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ë‚˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì¼ì‹œ ì €ì¥ëœë‹¤.

```jsx
setTimeout(() => console.log(1), 0);

Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3));
// 2 3 1
```

ì˜ˆì œì˜ ê²°ê³¼ê°€ 123ì´ ì•„ë‹Œ 231ì¸ ì´ìœ ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ëŠ” íƒœìŠ¤í¬ íê°€ ì•„ë‹Œ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì €ì¥ë˜ê³  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ìš°ì„ ìˆœìœ„ê°€ íƒœìŠ¤í¬ íë³´ë‹¤ ë†’ê¸° ë•Œë¬¸ì´ë‹¤.

### âœï¸Â fetch

`fetch()`ëŠ” HTTP ì‘ë‹µì„ ë‚˜íƒ€ë‚´ëŠ” `Response` ê°ì²´ë¥¼ ë˜í•‘í•œ `Promise` ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```jsx
const wrongUrl = '...';
// 404 ë°œìƒ -> catchë¬¸ì˜ error(X), ok ì¶œë ¥
fetch(wrongUrl)
  .then(() => console.log('ok'))
  .catch(() => console.log('error'));

// ì´ëŸ° ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°
fetch(wrongUrl)
  .then((response) => {
    if (!response.ok) throw new Error(response.statusText);
    return response.json();
  })
  .then((todo) => console.log(todo))
  .catch((err) => console.error(err));
```

HTTP ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì—ëŸ¬ë¥¼ `reject`í•˜ì§€ ì•Šê³  ë¶ˆë¦¬ì–¸ íƒ€ì…ì˜ ìƒíƒœë¥¼ `false`ë¡œ ì„¤ì •í•œ `Response` ê°ì²´ë¥¼ `resolve`í•œë‹¤. ë„¤íŠ¸ì›Œí¬ ì¥ì• (ì˜¤í”„ë¼ì¸)ë‚˜ CORS ì—ëŸ¬ì— ì˜í•´ ìš”ì²­ì´ ì™„ë£Œë˜ì§€ ëª»í•œ ê²½ìš°ë©”ë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ `reject` í•œë‹¤.
